<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Sigma Study House</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/auth.css">
    <link rel="stylesheet" href="../css/profile.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo">
                <a href="../index.html" style="text-decoration: none; display: flex; align-items: center;">
                    <div class="logo-placeholder">Î£</div>
                    <div class="logo-text">Sigma<span>StudyHouse</span></div>
                </a>
            </div>
            <nav>
                <ul>
                    <li><a href="../index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li class="dropdown">
                        <a href="services.html">Services <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-content">
                            <a href="courses.html">Courses</a>
                            <a href="booking.html">Booking</a>
                            <a href="printing.html">Printing</a>
                        </div>
                    </li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
            <div class="header-controls">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="auth-buttons" id="authButtons">
                    <!-- This will be populated by JavaScript based on auth state -->
                </div>
            </div>
        </div>
    </header>

    <!-- Profile Page Content -->
    <section class="profile">
        <div class="container">
            <h1 class="section-title">My Profile</h1>
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-avatar" id="profileAvatar">
                        <!-- Will be populated by JavaScript -->
                    </div>
                    <h3 id="userName" style="text-align: center;">User Name</h3>
                    <p id="userEmail" style="text-align: center; color: var(--text-light);">user@email.com</p>
                    
                    <ul class="profile-nav">
                        <li><a href="#" data-section="personal-info" class="active">
                            <i class="fas fa-user"></i> Personal Information
                        </a></li>
                        <li><a href="#" data-section="bookings">
                            <i class="fas fa-calendar-check"></i> Booking History
                        </a></li>
                        <li><a href="#" data-section="printing-orders">
                            <i class="fas fa-print"></i> Printing Orders
                        </a></li>
                        <li><a href="#" data-section="credit">
                            <i class="fas fa-wallet"></i> Credit & Payments
                        </a></li>
                        <li><a href="#" data-section="settings">
                            <i class="fas fa-cog"></i> Account Settings
                        </a></li>
                    </ul>
                </div>
                
                <div class="profile-main">
                    <!-- Personal Information Section -->
                    <div id="personal-info" class="profile-section active">
                        <h2>Personal Information</h2>
                        <div class="credit-balance">
                            <h3><i class="fas fa-wallet"></i> Account Balance</h3>
                            <div class="credit-amount" id="currentBalance">25.00 JOD</div>
                            <p>Available credit for bookings and services</p>
                        </div>

                        <form id="personalInfoForm">
                            <div class="form-group">
                                <label for="fullName">
                                    <i class="fas fa-user"></i> Full Name
                                </label>
                                <input type="text" class="form-control" id="fullName" value="John Doe">
                            </div>
                            <div class="form-group">
                                <label for="profileEmail">
                                    <i class="fas fa-envelope"></i> Email Address
                                </label>
                                <input type="email" class="form-control" id="profileEmail" value="john.doe@example.com" readonly>
                            </div>
                            <div class="form-group">
                                <label for="phone">
                                    <i class="fas fa-phone"></i> Phone Number
                                </label>
                                <input type="tel" class="form-control" id="phone" value="+962 79 610 1060">
                            </div>
                            <div class="form-group">
                                <label for="studentId">
                                    <i class="fas fa-id-card"></i> Student ID (Optional)
                                </label>
                                <input type="text" class="form-control" id="studentId" placeholder="Enter your student ID for discounts">
                            </div>
                            <div class="form-group">
                                <label for="preferences">
                                    <i class="fas fa-heart"></i> Study Preferences
                                </label>
                                <select class="form-control" id="preferences" multiple>
                                    <option value="silent" selected>Silent Rooms</option>
                                    <option value="solo">Solo Rooms</option>
                                    <option value="group">Group Study</option>
                                    <option value="coffee">Coffee Point Access</option>
                                </select>
                                <small style="color: var(--text-light);">Hold Ctrl to select multiple options</small>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-save"></i> Update Information
                            </button>
                        </form>
                    </div>
                    
                    <!-- Booking History Section -->
                    <div id="bookings" class="profile-section">
                        <h2>Booking History</h2>
                        <div class="booking-history">
                            <table>
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-calendar"></i> Date</th>
                                        <th><i class="fas fa-door-open"></i> Room Type</th>
                                        <th><i class="fas fa-clock"></i> Time</th>
                                        <th><i class="fas fa-hourglass-half"></i> Duration</th>
                                        <th><i class="fas fa-money-bill"></i> Cost</th>
                                        <th><i class="fas fa-info-circle"></i> Status</th>
                                    </tr>
                                </thead>
                                <tbody id="bookingsTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Printing Orders Section -->
                    <div id="printing-orders" class="profile-section">
                        <h2>Printing Orders</h2>
                        <div class="booking-history">
                            <table>
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-calendar"></i> Order Date</th>
                                        <th><i class="fas fa-file"></i> Files</th>
                                        <th><i class="fas fa-file-alt"></i> Pages</th>
                                        <th><i class="fas fa-money-bill"></i> Cost</th>
                                        <th><i class="fas fa-info-circle"></i> Status</th>
                                    </tr>
                                </thead>
                                <tbody id="printingTableBody">
                                    <!-- Will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <!-- Credit & Payments Section -->
                    <div id="credit" class="profile-section">
                        <h2>Credit & Payments</h2>
                        <div class="credit-balance">
                            <h3><i class="fas fa-coins"></i> Current Balance</h3>
                            <div class="credit-amount" id="creditBalance">25.00 JOD</div>
                            <p>Available credit for all services</p>
                        </div>

                        <div class="form-group">
                            <label for="creditAmount">
                                <i class="fas fa-money-bill-wave"></i> Add Credit Amount (JOD)
                            </label>
                            <input type="number" class="form-control" id="creditAmount" min="5" max="500" step="5" value="25">
                            <small style="color: var(--text-light);">Minimum amount: 5 JOD</small>
                        </div>
                        <button class="btn btn-primary" id="addCreditBtn">
                            <i class="fas fa-plus-circle"></i> Add Credit
                        </button>

                        <div style="margin-top: 30px;">
                            <h3><i class="fas fa-history"></i> Payment History</h3>
                            <div class="booking-history">
                                <table>
                                    <thead>
                                        <tr>
                                            <th><i class="fas fa-calendar"></i> Date</th>
                                            <th><i class="fas fa-file-alt"></i> Description</th>
                                            <th><i class="fas fa-money-bill"></i> Amount</th>
                                            <th><i class="fas fa-tag"></i> Type</th>
                                        </tr>
                                    </thead>
                                    <tbody id="paymentHistoryBody">
                                        <!-- Will be populated by JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Account Settings Section -->
                    <div id="settings" class="profile-section">
                        <h2>Account Settings</h2>

                        <div class="form-group">
                            <label>
                                <i class="fas fa-bell"></i> Notification Preferences
                            </label>
                            <div style="margin: 15px 0; padding: 15px; background: var(--bg); border-radius: 12px;">
                                <label style="display: flex; align-items: center; gap: 10px; margin: 10px 0; cursor: pointer;">
                                    <input type="checkbox" checked>
                                    <span><i class="fas fa-envelope" style="color: var(--primary); margin-right: 8px;"></i> Email notifications</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px; margin: 10px 0; cursor: pointer;">
                                    <input type="checkbox" checked>
                                    <span><i class="fas fa-sms" style="color: var(--primary); margin-right: 8px;"></i> SMS notifications</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 10px; margin: 10px 0; cursor: pointer;">
                                    <input type="checkbox">
                                    <span><i class="fas fa-gift" style="color: var(--primary); margin-right: 8px;"></i> Promotional offers</span>
                                </label>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="language">
                                <i class="fas fa-language"></i> Language Preference
                            </label>
                            <select class="form-control" id="language">
                                <option value="en">ðŸ‡¬ðŸ‡§ English</option>
                                <option value="ar">ðŸ‡¯ðŸ‡´ Arabic</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="timezone">
                                <i class="fas fa-clock"></i> Timezone
                            </label>
                            <select class="form-control" id="timezone">
                                <option value="+3">Amman, Jordan (UTC+3)</option>
                                <option value="+0">London (UTC+0)</option>
                                <option value="-5">New York (UTC-5)</option>
                            </select>
                        </div>

                        <div class="danger-zone">
                            <h3><i class="fas fa-exclamation-triangle"></i> Danger Zone</h3>
                            <p>Once you delete your account, there is no going back. Please be certain.</p>
                            <button class="btn btn-outline" style="border-color: var(--danger); color: var(--danger);">
                                <i class="fas fa-trash-alt"></i> Delete Account
                            </button>
                        </div>

                        <button class="btn btn-primary">
                            <i class="fas fa-save"></i> Save Settings
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-about">
                    <div class="footer-logo">Sigma<span>StudyHouse</span></div>
                    <p>Providing comfortable, well-equipped spaces for studying, teamwork, and discussions in Amman, Jordan.</p>
                    <div class="social-links">
                        <a href="#" class="social-link"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" class="social-link"><i class="fab fa-tiktok"></i></a>
                    </div>
                </div>
                <div class="footer-links">
                    <h4 class="footer-heading">Quick Links</h4>
                    <ul>
                        <li><a href="../index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="services.html">Services</a></li>
                        <li><a href="courses.html">Courses</a></li>
                        <li><a href="booking.html">Booking</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4 class="footer-heading">Services</h4>
                    <ul>
                        <li><a href="services.html">Silent Rooms</a></li>
                        <li><a href="services.html">Solo Rooms</a></li>
                        <li><a href="services.html">Meeting Rooms</a></li>
                        <li><a href="printing.html">Printing Services</a></li>
                        <li><a href="services.html">Coffee Point</a></li>
                    </ul>
                </div>
                <div class="footer-links">
                    <h4 class="footer-heading">Contact Info</h4>
                    <ul>
                        <li><a href="contact.html">Wasfi Al-Tal Street, Amman</a></li>
                        <li><a href="mailto:info@sigmastudyhouse.com">info@sigmastudyhouse.com</a></li>
                        <li><a href="tel:00962796101060">00962796101060</a></li>
                        <li><a href="contact.html">Open 24/7</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Sigma Study House. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Sign In to Your Account</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="auth-options">
                    <div class="auth-option" id="googleSignIn">
                        <div class="auth-icon">
                            <i class="fab fa-google"></i>
                        </div>
                        <div>
                            <h4>Continue with Google</h4>
                            <p>Sign in with your Google account</p>
                        </div>
                    </div>
                    <div class="auth-option">
                        <div class="auth-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div>
                            <h4>Sign in with Email</h4>
                            <p>Use your email address</p>
                        </div>
                    </div>
                </div>
                <p style="text-align: center; margin-top: 20px;">Don't have an account? <a href="#" style="color: var(--primary);">Sign up here</a></p>
            </div>
        </div>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

    <!-- App Scripts -->
    <script src="../js/firebase-config.js"></script>
    <script src="../js/database.js"></script>
    <script src="../js/main.js"></script>
    <script src="../js/auth.js"></script>
    <script src="../js/profile.js"></script>
</body>
</html>